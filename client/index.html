<!DOCTYPE html>
<html>
  <head>
    <title>Hello World, AngularJS - ViralPatel.net</title>

    <!-- Angular -->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>

    <!-- Angular Material and dependecies -->
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-aria.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-animate.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.js"></script>
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.css">

    <!-- Table view -->
    <script type="text/javascript" src="node_modules/angular-smart-table/dist/smart-table.js"></script>

    <!-- Angular controllers -->
    <script type="text/javascript" src="app/deck-builder.js"></script>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  </head>
  <body ng-app="deck-builder">
    <div ng-controller="DeckController">

      <md-autocomplete 
        md-selected-item="selectedItem" 
        md-search-text="searchText" 
        md-items="item in getMatches(searchText)" 
        md-item-text="item.display" 
        md-min-length="3"
        md-selected-item-change="addToDeck()">

        <md-item-template>
          <span md-highlight-text="searchText">{{item.display}}</span>
        </md-item-template>
        <md-not-found>
          No cards found.
        </md-not-found>

      </md-autocomplete>
			
      <br/>
      <h1>Deck cards</h1>
			<table st-table="displayedRows" st-safe-src="deck" class="table table-striped">
				<thead>
				<tr>
					<th>Card name</th>
					<th>Count</th>
				</tr>
				</thead>
				<tbody>
				<tr ng-repeat="card in deck">
					<td>{{card['card-name']}}</td>
					<td>{{card['card-count']}}</td>
          <td>
            <img ng-src="{{card['img']}}" alt="Card image" height="67" width="45">
          </td>
					<td>
    				<button type="button" ng-click="removeFromDeck(card)" class="btn btn-sm btn-danger">
	    				<i class="glyphicon glyphicon-remove-circle"></i>
    		  	</button>
	  			</td>
				</tr>
				</tbody>
			</table>
    </div>
  </body>
</html>
